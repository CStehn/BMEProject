function x = zfish_track(y)
% This function will take as input a matrix of filtered intensity values of video frames, then return velocity over time.
% y must be a video
  
  if numel(y) == 1 % Ensures y input is not simply an image
    disp('Please input a video, not a still image.')
    return
  else
  end
  
  num_ob = bwconncomp(y,8); % Returns object info
  centroids = zeros(numel(y),2*num_ob.NumObjects) % Pre-allocates space for x-y coordinates of each object centroid
  
  for i = 1:numel(y)
    y_im = y(i);
    stats = regionprops(y_im, 'Centroid');
    centroids(i,:) = stats.Centroid;
  end
  
  for j = 1:((num_ob.NumObjects)/2)
    comet(centroids(:,(2*j)-1),centroids(:,(2*j)) % Plot zebrafish tracks
  end
end
      
