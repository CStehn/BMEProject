function zfishF = part_fil(zfishI)
cont_ref = zfishI(:,:,2)
first_ref = zfishI(:,:,1);
mid_ref = zfish(:,:,20);
last_ref = zfishI(:,:,zfish_frames);
for i = 1:zfish_frames
   for c = 1:size(zfishI(:,:,1), 2)
      for r = 1:size(zfishI(:,:,1), 1)
        if zfishI(r,c,i) - last_ref(r,c) <= 128
         zfishI(r,c,i) = 0; % sends image to black if pixel is in same place as it is in the last refrence frame(only for first refrence)
        elseif zfishI(r,c,i) - first_ref(r,c) >= 128
         zfishI(r,c,i) = 255;
        end
      end
     end
end
end

% Problems:
% Is this sufficient to prevent dead zebra fish filtration?
% Does the first frame need to be filtered seperately?
 
