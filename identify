function identified_im = identify(im) %will need to change 'im' and 'filtim' based on varname preferences
% This function will take a filtered image and output an image with easily trackable, discrete objects. The input media file should only be a 1 variable input, but change if needed

for i = 1:numel(im) % Will cycle through frames
    SE(:,:,i) = strel(im(:,:,i)); % not sure if needed prior to the imdilate function
    dilated_im(:,:,i) = imdilate(im(:,:,i), SE(:,:,i)); % strel vs offsetstrel
    eroded_im(:,:,i) = imerode(dilated_im(:,:,i), SE(:,:,i)); % reverses dilation of im, helps to create contrast
    for j=1:size(eroded_im,1); % will cycle through rows
        for k=1:size(eroded_im,2); % will cycle through columns
            if eroded_im(j,k,i)>= ## % insert threshold intensity value for best suited filtering
                % intensity values above the threshold will be deleted, low
                % intensity (white) will remain
                filtered_im(j,k,i) = bwareaopen(eroded_im(j,k)); % will delete pixels that are below this value
            else
                filtered_im(j,k,i) = 0;
            end
        end
    end
end
end
